inherit_from:
  - https://potpourri.hausgold.de/config/rubocop.yml
  - https://potpourri.hausgold.de/config/rubocop-gem.yml

plugins:
  - rubocop-rspec
  - rubocop-rails

Rails:
  Enabled: true

AllCops:
  NewCops: enable
  SuggestExtensions: false
  DisplayCopNames: true
  TargetRubyVersion: 3.3
  TargetRailsVersion: 7.2
  Exclude:
    - bin/**/*
    - vendor/**/*
    - build/**/*
    - gemfiles/**/*

# Our examples use +pp+ a lot
Lint/Debugger:
  Exclude:
    - doc/examples/**/*.rb

# It's a deliberate idiom in RSpec.
# See: https://github.com/bbatsov/rubocop/issues/4222
Lint/AmbiguousBlockAssociation:
  Exclude:
    - "spec/**/*"

# Disable regular Rails spec paths.
Rails/FilePath:
  Enabled: false

# Because we just implemented the ActiveRecord API.
Rails/SkipsModelValidations:
  Enabled: false

# Because of the clean wording on the examples.
Lint/ShadowingOuterLocalVariable:
  Exclude:
    - "doc/**/*"

# That are false-positives because we implement similar working
# helpers for associations like +.has_one+.
Rails/ReflectionClassName:
  Enabled: false

# For our examples it's fine to use +pp+ and +puts+,
# as they are living examples.
Rails/Output:
  Exclude:
    - doc/examples/**/*
